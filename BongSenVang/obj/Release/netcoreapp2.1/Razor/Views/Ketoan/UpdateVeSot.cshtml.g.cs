#pragma checksum "D:\EnViet\SourceAzure\BongSenVang\DaiLy_EV\Views\Ketoan\UpdateVeSot.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "772c2e207e3ac1a113f03936736c3cf0e1307403"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Ketoan_UpdateVeSot), @"mvc.1.0.view", @"/Views/Ketoan/UpdateVeSot.cshtml")]
[assembly:global::Microsoft.AspNetCore.Mvc.Razor.Compilation.RazorViewAttribute(@"/Views/Ketoan/UpdateVeSot.cshtml", typeof(AspNetCore.Views_Ketoan_UpdateVeSot))]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"772c2e207e3ac1a113f03936736c3cf0e1307403", @"/Views/Ketoan/UpdateVeSot.cshtml")]
    public class Views_Ketoan_UpdateVeSot : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<BongSenVang.Models.ChiTietVeSot>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            BeginContext(40, 15, true);
            WriteLiteral("\r\n<style>\r\n    ");
            EndContext();
            BeginContext(56, 778, true);
            WriteLiteral(@"@media(min-width: 768px) {
        .modal-dialog {
            width: 800px;
            margin: 30px auto;
        }
    }

    .modal-body img {
        width: 100% !important;
        height: auto !important;
    }

    .modal-header {
        padding: 6px 15px;
        border-bottom: none;
    }
</style>

<div class=""modal-dialog"">

    <!-- Modal content-->
    <div class=""modal-content"">
        <div class=""modal-header"">
            <button type=""button"" class=""close"" data-dismiss=""modal"">&times;</button>
            <h1 style=""color:red"">Sửa báo cáo vé</h1>
        </div>
        <div class=""modal-body"">
            <div class=""row"">
                <input class=""form-control"" type=""text"" hidden name=""CurrentIndex"" id=""CurrentIndex""");
            EndContext();
            BeginWriteAttribute("value", " value=\"", 834, "\"", 857, 1);
#line 32 "D:\EnViet\SourceAzure\BongSenVang\DaiLy_EV\Views\Ketoan\UpdateVeSot.cshtml"
WriteAttributeValue("", 842, Model.RowIndex, 842, 15, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(858, 126, true);
            WriteLiteral(" />\r\n                <div class=\"col-sm-4\">\r\n                    <div class=\"item form-group\">\r\n                        <input");
            EndContext();
            BeginWriteAttribute("value", " value=\"", 984, "\"", 1001, 1);
#line 35 "D:\EnViet\SourceAzure\BongSenVang\DaiLy_EV\Views\Ketoan\UpdateVeSot.cshtml"
WriteAttributeValue("", 992, Model.ID, 992, 9, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(1002, 125, true);
            WriteLiteral(" id=\"RowID\" hidden/>\r\n                        <input class=\"form-control\" type=\"text\" name=\"Hang\" disabled readonly id=\"Hang\"");
            EndContext();
            BeginWriteAttribute("value", " value=\"", 1127, "\"", 1147, 1);
#line 36 "D:\EnViet\SourceAzure\BongSenVang\DaiLy_EV\Views\Ketoan\UpdateVeSot.cshtml"
WriteAttributeValue("", 1135, Model.MAHHK, 1135, 12, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(1148, 232, true);
            WriteLiteral("  />\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-sm-4\">\r\n                    <div class=\"item form-group\">\r\n                        <input class=\"form-control\" type=\"text\" name=\"PNR\" id=\"PNR\"");
            EndContext();
            BeginWriteAttribute("value", " value=\"", 1380, "\"", 1398, 1);
#line 41 "D:\EnViet\SourceAzure\BongSenVang\DaiLy_EV\Views\Ketoan\UpdateVeSot.cshtml"
WriteAttributeValue("", 1388, Model.PNR, 1388, 10, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(1399, 234, true);
            WriteLiteral("  />\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-sm-4\">\r\n                    <div class=\"item form-group\">\r\n                        <input class=\"form-control\" type=\"text\" name=\"SoVe\" id=\"SoVe\"");
            EndContext();
            BeginWriteAttribute("value", " value=\"", 1633, "\"", 1652, 1);
#line 46 "D:\EnViet\SourceAzure\BongSenVang\DaiLy_EV\Views\Ketoan\UpdateVeSot.cshtml"
WriteAttributeValue("", 1641, Model.SoVe, 1641, 11, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(1653, 380, true);
            WriteLiteral(@"  />
                    </div>
                </div>
                <div class=""col-sm-4"">
                    <div class=""row"">
                        <div class=""col-sm-9"">
                            <div class=""item form-group"">
                                <input style=""text-transform: uppercase;"" class=""form-control"" type=""text"" disabled readonly name=""MaKH""");
            EndContext();
            BeginWriteAttribute("value", " value=\"", 2033, "\"", 2052, 1);
#line 53 "D:\EnViet\SourceAzure\BongSenVang\DaiLy_EV\Views\Ketoan\UpdateVeSot.cshtml"
WriteAttributeValue("", 2041, Model.MAKH, 2041, 11, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(2053, 599, true);
            WriteLiteral(@" id=""MaKH"" placeholder=""Mã KH"" />
                            </div>
                        </div>
                        <div class=""col-sm-3"">
                            <button id=""check"" class=""btn btn-info"" type=""submit"" style=""box-shadow: 2px 2px 5px #838080; ""><i class=""fa fa-search"" aria-hidden=""true""></i></button>
                        </div>
                    </div>

                </div>
                <div class=""col-sm-4"">
                    <div class=""item form-group"">
                        <input class=""form-control"" type=""text"" name=""GiaMua"" id=""GiaMua""");
            EndContext();
            BeginWriteAttribute("value", " value=\"", 2652, "\"", 2673, 1);
#line 64 "D:\EnViet\SourceAzure\BongSenVang\DaiLy_EV\Views\Ketoan\UpdateVeSot.cshtml"
WriteAttributeValue("", 2660, Model.GiaMua, 2660, 13, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(2674, 259, true);
            WriteLiteral(@" placeholder=""Giá mua"" />
                    </div>
                </div>
                <div class=""col-sm-4"">
                    <div class=""item form-group"">
                        <input class=""form-control"" type=""text"" name=""PhiMua"" id=""PhiMua""");
            EndContext();
            BeginWriteAttribute("value", " value=\"", 2933, "\"", 2956, 1);
#line 69 "D:\EnViet\SourceAzure\BongSenVang\DaiLy_EV\Views\Ketoan\UpdateVeSot.cshtml"
WriteAttributeValue("", 2941, Model.PhiDVMua, 2941, 15, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(2957, 267, true);
            WriteLiteral(@" placeholder=""Phí dịch vụ mua"" />
                    </div>
                </div>
                <div class=""col-sm-4"">
                    <div class=""item form-group"">
                        <input class=""form-control"" type=""text"" name=""PhiBan"" id=""PhiBan""");
            EndContext();
            BeginWriteAttribute("value", " value=\"", 3224, "\"", 3247, 1);
#line 74 "D:\EnViet\SourceAzure\BongSenVang\DaiLy_EV\Views\Ketoan\UpdateVeSot.cshtml"
WriteAttributeValue("", 3232, Model.PhiDVBan, 3232, 15, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(3248, 269, true);
            WriteLiteral(@" placeholder=""Phí dịch vụ bán"" />
                    </div>
                </div>
                <div class=""col-sm-4"">
                    <div class=""item form-group"">
                        <input class=""form-control"" type=""text"" name=""PhiHoan"" id=""PhiHoan""");
            EndContext();
            BeginWriteAttribute("value", " value=\"", 3517, "\"", 3539, 1);
#line 79 "D:\EnViet\SourceAzure\BongSenVang\DaiLy_EV\Views\Ketoan\UpdateVeSot.cshtml"
WriteAttributeValue("", 3525, Model.PhiHoan, 3525, 14, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(3540, 266, true);
            WriteLiteral(@" placeholder=""Phí hoàn"" />
                    </div>
                </div>
                <div class=""col-sm-4"">
                    <div class=""item form-group"">
                        <input class=""form-control"" type=""text"" name=""ChietKhau"" id=""ChietKhau""");
            EndContext();
            BeginWriteAttribute("value", " value=\"", 3806, "\"", 3830, 1);
#line 84 "D:\EnViet\SourceAzure\BongSenVang\DaiLy_EV\Views\Ketoan\UpdateVeSot.cshtml"
WriteAttributeValue("", 3814, Model.ChietKhau, 3814, 16, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(3831, 272, true);
            WriteLiteral(@" placeholder=""Chiết khấu"" />
                    </div>
                </div>
                <div class=""col-sm-4"">
                    <div class=""item form-group"">
                        <input class=""form-control"" type=""text"" name=""MaGioiThieu"" id=""MaGioiThieu""");
            EndContext();
            BeginWriteAttribute("value", " value=\"", 4103, "\"", 4129, 1);
#line 89 "D:\EnViet\SourceAzure\BongSenVang\DaiLy_EV\Views\Ketoan\UpdateVeSot.cshtml"
WriteAttributeValue("", 4111, Model.MaGioiThieu, 4111, 18, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(4130, 281, true);
            WriteLiteral(@" placeholder=""Mã giới thiệu"" />
                    </div>
                </div>
                <div class=""col-sm-4"">
                    <div class=""item form-group"">
                        <input class=""form-control"" type=""text"" name=""NguoiGioiThieu"" id=""NguoiGioiThieu""");
            EndContext();
            BeginWriteAttribute("value", " value=\"", 4411, "\"", 4440, 1);
#line 94 "D:\EnViet\SourceAzure\BongSenVang\DaiLy_EV\Views\Ketoan\UpdateVeSot.cshtml"
WriteAttributeValue("", 4419, Model.NguoiGioiThieu, 4419, 21, false);

#line default
#line hidden
            EndWriteAttribute();
            BeginContext(4441, 5488, true);
            WriteLiteral(@" placeholder=""Người giới thiệu"" />
                    </div>
                </div>
                <div class=""col-sm-12"">
                    <div class=""item form-group"">
                        <p id=""tenCTY"" style=""color:red; font-size:14px""></p>
                    </div>
                </div>
                <div class=""col-sm-12"">
                    <div class=""item form-group"">
                        <label>&nbsp;</label>
                        <div style=""text-align:right"">
                            <button id=""save"" class=""btn btn-primary"" type=""submit"">Lưu sửa</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    $(""#check"").click(function () {
        var makh = document.getElementById(""MaKH"").value;
        if (makh == '') {
            alert(""Mã KH không dc để trống"");
            return;
        }
        $.ajax({
            type: ""POST"",
            url: ""/");
            WriteLiteral(@"PhongVe/SearchMaKHBaoCaoVeSot"",
            data: {
                MaKH: makh,
            },
            success: function (response) {

                document.getElementById(""tenCTY"").innerHTML = makh + "" : "" + response
                return;
            },
            failure: function (response) {
                alert(response.responseText);
            },
            error: function (response) {
                alert(response.responseText);
            }
        });
    });
</script>
<script>
    $(""#save"").click(function () {
        var id = document.getElementById(""RowID"").value;
        var pnr = document.getElementById(""PNR"").value;
        var sove = document.getElementById(""SoVe"").value;
        var hang = document.getElementById(""Hang"").value;
        var makh = document.getElementById(""MaKH"").value;
        var giamua = document.getElementById(""GiaMua"").value;
        var phimua = document.getElementById(""PhiMua"").value;
        var phiban = document.getElementByI");
            WriteLiteral(@"d(""PhiBan"").value;
        var phihoan = document.getElementById(""PhiHoan"").value;
        var chietkhau = document.getElementById(""ChietKhau"").value;
        var Index = document.getElementById(""CurrentIndex"").value;
        var magioithieu = document.getElementById(""MaGioiThieu"").value;
        var nguoigioithieu = document.getElementById(""NguoiGioiThieu"").value;

        if (makh == '') {
            alert(""Mã KH không dc để trống"");
            return;
        }
        $.ajax({
            type: ""POST"",
            url: ""/KeToan/SaveBaoCaoVeSot"",
            data: {
                ID: id,
                PNR: pnr,
                SoVe: sove,
                Hang: hang,
                MaKH: makh,
                GiaMua: giamua,
                PhiMua: phimua,
                PhiBan: phiban,
                PhiHoan: phihoan,
                ChietKhau: chietkhau,
                MaGioiThieu: magioithieu,
                NguoiGioiThieu: nguoigioithieu
            },
            ");
            WriteLiteral(@"success: function (response) {
              
                if (response == 1) {
                    document.getElementById(""gridVeSot"").rows[Index].cells[2].innerHTML = hang;
                

                    document.getElementById(""gridVeSot"").rows[Index].cells[3].innerHTML = makh;
                    document.getElementById(""gridVeSot"").rows[Index].cells[4].innerHTML = makh;
                   
                    document.getElementById(""gridVeSot"").rows[Index].cells[8].innerHTML = pnr;
                    document.getElementById(""gridVeSot"").rows[Index].cells[9].innerHTML = sove;
                    document.getElementById(""gridVeSot"").rows[Index].cells[10].innerHTML = giamua;
                    document.getElementById(""gridVeSot"").rows[Index].cells[11].innerHTML = phimua;
                    document.getElementById(""gridVeSot"").rows[Index].cells[12].innerHTML = phiban;
                    document.getElementById(""gridVeSot"").rows[Index].cells[13].innerHTML = phihoan;
            ");
            WriteLiteral(@"        document.getElementById(""gridVeSot"").rows[Index].cells[14].innerHTML = chietkhau;
                    document.getElementById(""gridVeSot"").rows[Index].cells[16].innerHTML = magioithieu;
                    document.getElementById(""gridVeSot"").rows[Index].cells[17].innerHTML = nguoigioithieu;
                    alert(""Sửa báo cáo thành công"");
                    $('#openPopup').modal('hide');
                    return;
                }
                if (response == -1) {
                    alert(""Số vé này bạn đã báo cáo rồi"");
                    $('#openPopup').modal('hide');
                    return;
                }
                if (response == -2) {
                    alert(""Mã KH này không tồn tại vui lòng kiểm tra lại mã KH hoặc liên hệ kế toán để kiểm tra mã KH"");
                    $('#openPopup').modal('hide');
                    return;
                }
                if (response == 0 || response == 1) {
                    alert(""Báo cáo vé không thành c");
            WriteLiteral(@"ông"");
                    $('#openPopup').modal('hide');
                    return;
                }

            },
            failure: function (response) {
                alert(response.responseText);
            },
            error: function (response) {
                alert(response.responseText);
            }
        });
    });
</script>");
            EndContext();
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<BongSenVang.Models.ChiTietVeSot> Html { get; private set; }
    }
}
#pragma warning restore 1591
